{"version":3,"sources":["webpack:///./src/views/Login.vue?c903","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue?7b2b","webpack:///./src/views/Login.vue?76f5","webpack:///./src/views/Login.vue?1f42"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","scopedSlots","_u","key","fn","proxy","model","value","callback","$$v","displayName","expression","email","password","on","emailLogin","googles","staticRenderFns","data","methods","ErrorHandler","$vs","notification","progress","color","position","title","text","error","message","console","provider","val","exists","user","id","uid","completed","completedTime","err","userLoggedIn","$store","dispatch","payload","$router","push","component"],"mappings":"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","file":"js/chunk-c5e2b1c8.4e2ad67c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"grid\",attrs:{\"id\":\"LoginMain\"}},[_c('vs-row',{staticClass:\"flex-Center h-100\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('vs-col',{staticClass:\"form\",attrs:{\"w\":\"6\",\"sm\":\"8\",\"xs\":\"10\",\"vs-type\":\"flex\",\"justify\":\"center\",\"align\":\"center\"}},[_c('h2',{staticClass:\"not-margin\"},[_vm._v(\" Welcome to \"),_c('b',[_vm._v(\"College Voyage\")])]),_c('div',{staticClass:\"con-form\"},[_c('vs-input',{staticClass:\"inputMargin\",attrs:{\"placeholder\":\"Name\"},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_vm._v(\" üßëüèª‚Äçü¶± \")]},proxy:true}]),model:{value:(_vm.displayName),callback:function ($$v) {_vm.displayName=$$v},expression:\"displayName\"}}),_c('vs-input',{staticClass:\"inputMargin\",attrs:{\"placeholder\":\"Email\"},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_vm._v(\" @ \")]},proxy:true}]),model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('vs-input',{staticClass:\"inputMargin\",attrs:{\"type\":\"password\",\"placeholder\":\"Password\"},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_vm._v(\" üîí \")]},proxy:true}]),model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('vs-row',[_c('vs-col',{staticClass:\"buttonWrapper\",attrs:{\"w\":\"8\",\"xs\":\"12\"}},[_c('vs-button',{staticClass:\"buttonMargin\",attrs:{\"block\":\"\"},on:{\"click\":_vm.emailLogin}},[_vm._v(\" Sign In \")])],1),_c('vs-col',{staticClass:\"buttonWrapper\",attrs:{\"w\":\"4\",\"xs\":\"12\"}},[_c('vs-button',{staticClass:\"buttonMargin\",attrs:{\"block\":\"\"},on:{\"click\":_vm.googles}},[_vm._v(\" Google Sign in \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    id=\"LoginMain\"\n    class=\"grid\"\n  >\n    <vs-row\n      class=\"flex-Center h-100\"\n      align=\"center\"\n      justify=\"center\"\n    >\n      <vs-col\n        w=\"6\"\n        sm=\"8\"\n        xs=\"10\"\n        vs-type=\"flex\"\n        justify=\"center\"\n        align=\"center\"\n        class=\"form\"\n      >\n\n        <h2 class=\"not-margin\">\n          Welcome to <b>College Voyage</b>\n        </h2>\n        <div class=\"con-form\">\n          <vs-input\n            v-model=\"displayName\"\n            placeholder=\"Name\"\n            class=\"inputMargin\"\n          >\n            <template #icon>\n              üßëüèª‚Äçü¶±\n            </template>\n          </vs-input>\n          <vs-input\n            v-model=\"email\"\n            placeholder=\"Email\"\n            class=\"inputMargin\"\n          >\n            <template #icon>\n              @\n            </template>\n          </vs-input>\n          <vs-input\n            type=\"password\"\n            v-model=\"password\"\n            placeholder=\"Password\"\n            class=\"inputMargin\"\n          >\n            <template #icon>\n              <!-- <i class='bx bxs-lock'></i> -->\n              üîí\n            </template>\n          </vs-input>\n          <!-- <div class=\"flex\">\n        <vs-checkbox v-model=\"remember\">Remember me</vs-checkbox>\n        <a href=\"#\">Forgot Password?</a>\n      </div> -->\n        </div>\n        <vs-row>\n          <vs-col\n            w=\"8\"\n            xs=\"12\"\n            class=\"buttonWrapper\"\n          >\n            <vs-button\n              block\n              class=\"buttonMargin\"\n              @click=\"emailLogin\"\n            >\n              Sign In\n            </vs-button>\n          </vs-col>\n\n          <vs-col\n            w=\"4\"\n            xs=\"12\"\n            class=\"buttonWrapper\"\n          >\n            <vs-button\n              block\n              class=\"buttonMargin\"\n              @click=\"googles\"\n            >\n              Google Sign in\n            </vs-button>\n          </vs-col>\n        </vs-row>\n\n        <!-- <div class=\"new\">\n        New Here? <a href=\"#\">Create New Account</a>\n      </div> -->\n      </vs-col>\n    </vs-row>\n  </div>\n</template>\n\n<script>\nimport firebase from 'firebase/app'\nimport firebaseApp from '@/firebase_config.js'\nexport default {\n  data () {\n    return {\n      email: '',\n      password: '',\n      displayName: ''\n    }\n  },\n  methods: {\n    ErrorHandler (error) {\n      this.$vs.notification({\n        progress: true,\n        color: 'danger',\n        position: 'top-center',\n        title: 'An error occured!',\n        text: error.message\n      })\n    },\n    emailLogin () {\n      firebaseApp.auth.createUserWithEmailAndPassword(this.email, this.password).then(async (data) => {\n        // console.log({\n        //   displayName: this.displayName,\n        //   email: this.email,\n        //   id: data.user.uid\n        // })\n        await firebaseApp.db.doc('users/' + data.user.uid).set({\n          displayName: this.displayName,\n          email: this.email,\n          id: data.user.uid,\n          completed: false,\n          completedTime: null,\n          progress: 0\n        })\n        this.userLoggedIn(data.user.uid)\n        // localStorage.setItem('logged', true)\n        // localStorage.setItem('uid', data.user.uid)\n      }).catch(error => {\n        console.error(error)\n        if (error.message === 'The email address is already in use by another account.') {\n          firebaseApp.auth.signInWithEmailAndPassword(this.email, this.password)\n            .then((data) => {\n              this.userLoggedIn(data.user.uid)\n            })\n            .catch((err) => {\n              console.error(err)\n            })\n        }\n      })\n    },\n    googles () {\n      var provider = new firebase.auth.GoogleAuthProvider()\n      firebaseApp.auth.signInWithPopup(provider).then(data => {\n        firebaseApp.db.collection('users').doc(data.user.uid).get().then((val) => {\n          if (!val.exists) {\n            firebaseApp.db.collection('users').doc(data.user.uid).set({\n              displayName: data.user.displayName,\n              email: data.user.email,\n              id: data.user.uid,\n              completed: false,\n              completedTime: null,\n              progress: 0\n            }).then(() => {\n              this.userLoggedIn(data.user.uid)\n            }).catch(err => {\n              console.error(err)\n            })\n          } else {\n            this.userLoggedIn(data.user.uid)\n          }\n        }).catch(err => {\n          console.error(err)\n          this.ErrorHandler(err)\n        })\n        // localStorage.setItem('uid', data.user.uid)\n        // localStorage.setItem('logged', true)\n      }).catch(error => {\n        console.error(error)\n      })\n    },\n    userLoggedIn (payload) {\n      this.$store.dispatch('FETCH_USER', payload)\n      this.$router.push({ name: 'Home' })\n    }\n  }\n}\n</script>\n\n<style lang=\"css\">\n.h-100 {\n  height: calc(100vh - 70px);\n  /* width: 100%; */\n}\n\n.form input {\n  width: 100%;\n}\n</style>\n\n<style lang=\"css\" scoped>\n.inputMargin {\n  margin: 0.75rem 0;\n}\n/* .buttonMargin {\n  margin: 0.7rem 0;\n} */\n.buttonWrapper {\n  padding: 3px 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7d0997f4&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./Login.vue?vue&type=style&index=1&id=7d0997f4&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d0997f4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=1&id=7d0997f4&lang=css&scoped=true&\""],"sourceRoot":""}