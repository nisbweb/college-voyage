(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72987692"],{1271:function(t,e,n){},1283:function(t,e,n){},abd0:function(t,e,n){"use strict";n("1271")},bb51:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t.loadingState||null===t.question?t._e():n("div",{staticClass:"grid"},[n("vs-row",{staticClass:"flex-Center h-100",attrs:{align:"center",justify:"center"}},[n("vs-col",{staticClass:"form",attrs:{w:"7",sm:"8",xs:"11","vs-type":"flex",justify:"center",align:"center"}},[n("SingleInput",{attrs:{SubmitAnswer:t.SubmitAnswer,loading:t.loading,question:t.question}})],1)],1)],1)])},o=[],i=n("5530"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"QuestionMain"}},[n("h2",{staticClass:"not-margin"},[t._v(" #Question ")]),n("p",{staticStyle:{"text-align":"left"}},[t._v(t._s(t.question.question))]),n("vs-row",{attrs:{align:"center"}},[n("vs-col",{attrs:{w:"9"}},[n("vs-input",{staticClass:"submitElement",attrs:{placeholder:"Your answer",loading:t.loading},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1),n("vs-col",{attrs:{w:"3"}},[n("vs-button",{staticClass:"submitElement",attrs:{block:"",loading:t.loading},on:{click:t.ForwardAnswer}},[t._v(" Submit ")])],1)],1)],1)},a=[],u={data:function(){return{answer:""}},props:["question","loading","SubmitAnswer"],methods:{ForwardAnswer:function(){this.SubmitAnswer(this.answer),this.answer=""}}},c=u,l=(n("e089"),n("abd0"),n("2877")),d=Object(l["a"])(c,r,a,!1,null,"c757ffc0",null),m=d.exports,p=n("bec0"),g=n("2f62"),f={name:"Home",data:function(){return{question:null,loading:!1}},components:{SingleInput:m},computed:Object(i["a"])({},Object(g["b"])({user:"GET_USER",admin:"GET_ADMIN",loadingState:"GET_LOADING"})),mounted:function(){(this.user.progress+1===this.admin.questionCount||this.user.progress>=this.admin.questionCount)&&this.QuizCompleted(),this.GetQuestion()},methods:{GetQuestion:function(){var t=this;this.$store.commit("CHANGE_LOADING",!0),p["a"].db.collection("questions").doc("question_".concat(this.user.progress+1)).get().then((function(e){t.question=e.data(),t.$store.commit("CHANGE_LOADING",!1)})).catch((function(e){console.error(e),t.ErrorHandler(e),t.$store.commit("CHANGE_LOADING",!1)}))},SubmitAnswer:function(t){var e=this;this.loading=!0,console.log(t),setTimeout((function(){console.log(e.user.progress+1===e.admin.questionCount),e.user.progress+1===e.admin.questionCount||e.user.progress>=e.admin.questionCount?e.QuizCompleted():p["a"].db.collection("users").doc(e.user.id).update({progress:e.user.progress+1}).then((function(){e.loading=!1,e.$store.commit("INCREMENT_PROGRESS"),e.GetQuestion()})).catch((function(t){e.loading=!1,console.error(t),e.ErrorHandler(t)}))}),3e3)},ErrorHandler:function(t){this.$vs.notification({progress:!0,color:"danger",position:"top-center",title:"An error occured!",description:t.message})},QuizCompleted:function(){var t=this;p["a"].db.collection("users").doc(this.user.id).update({completed:!0,completedTime:new Date}).then((function(){t.loading=!1,t.$store.commit("QUIZ_COMPLETED"),t.$router.push({name:"Leaderboard"})})).catch((function(e){t.loading=!1,console.error(e),t.ErrorHandler(e)}))}}},h=f,w=Object(l["a"])(h,s,o,!1,null,null,null);e["default"]=w.exports},e089:function(t,e,n){"use strict";n("1283")}}]);
//# sourceMappingURL=chunk-72987692.ae4281c7.js.map